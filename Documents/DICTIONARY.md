# x86ドキュメント (個人的メモ)
## Instructionsの大枠について
* 以下構成を取る
  * **Prefix**:       0xf0, 0xf2, 0xf3, 0x26, 0x2e, 0x36, 0x3e, 0x64-67のいずれか
  * **ModR/M**:       レジスタ・アドレッシングモードの指定，オペランドの拡張に用いる
  * **SIB**:          複雑なアドレス計算に用いる．(例: [eax + 4*ecx + 123])
  * **displacement**: アドレスの差分．(例: [ebp - 4]の-4)
    ```c
    prefix | opecode | ModR/M | SIB | displacement | immediate
      0~4  |   1~3   |  0~1   | 0~1 |  0, 1, 2, 4  |  0,1,2,4  [byte]
    ```
### Mod R/Mとは
* Mod, REG, R/Mを持つ1バイトのこと
  * Mod + R/Mでレジスタとアドレッシングモードを決定(例: [ebp + disp32]など)
  * REGではもう一つのレジスタを決定
    |EAX|ECX|EDX|EBX|ESP|EBP|ESI|EDI|
    |-|-|-|-|-|-|-|-|
    |000|001|010|011|100|101|110|111|
  * どちらが第一/第二オペランドかはオペコードの仕様による
* mov eax, 0x78の場合
    * デコード結果はb8 78 00 00 00
    * ビッグエンディアンなので78(=0111 1000)は以下の通りとなる
        ```c
        7 6   5 4 3   2 1 0 [bit]
        0 0 | 0 1 0 | 0 0 0     // 1bitずつ逆順
        Mod |  REG  |  R/M
        ```

## 各命令についてのメモ
* 気が向いたらまとめる
